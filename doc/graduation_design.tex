%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Filename:      graduation_design.tex
% Author:        Junwei Wang(wakemecn@gmail.com)
% Last Modified: 2012-05-04 15:29
% Description:
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[a4paper,12pt,oneside,openany]{ctexbook}
\usepackage[top=1in,bottom=1in,left=1.25in,right=1.25in]{geometry}
\usepackage{graphicx}
\usepackage{ulem}
\usepackage{amsfonts,amssymb}
\usepackage{amsmath}
\usepackage{hyperref}
%%%%%%%%%%%%%code style%%%%%%%%%%
\usepackage{xcolor}
%\renewcommand{\sfdefault}{phv}
\renewcommand{\ttdefault}{phv}
\usepackage{listings}
\renewcommand{\lstlistingname}{代码}
\lstset{
         basicstyle=\footnotesize\ttfamily, % Standardschrift
         %numbers=left,               % Ort der Zeilennummern
         numberstyle=\tiny,          % Stil der Zeilennummern
         %stepnumber=2,               % Abstand zwischen den Zeilennummern
         numbersep=5pt,              % Abstand der Nummern zum Text
         tabsize=2,                  % Groesse von Tabs
         extendedchars=true,         %
         breaklines=true,            % Zeilen werden Umgebrochen
         keywordstyle=\color{red},
            frame=b,         
         stringstyle=\color{white}\ttfamily, % Farbe der String
         showspaces=false,           % Leerzeichen anzeigen ?
         showtabs=false,             % Tabs anzeigen ?
         xleftmargin=17pt,
         framexleftmargin=17pt,
         framexrightmargin=5pt,
         framexbottommargin=4pt,
%        backgroundcolor=\color{lightgray},
         showstringspaces=false      % Leerzeichen in Strings anzeigen ?       
}
\lstloadlanguages{% Check Dokumentation for further languages ...
         %[Visual]Basic
         %Pascal
         %C
         %C++
         %XML
         %HTML
         Java
}
\usepackage{caption}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox[cmyk]{0.43, 0.35, 0.35,0.01}{\parbox{\textwidth}{#1#2#3}}}
\captionsetup[lstlisting]{format=listing,justification=raggedright,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={sf,bf,footnotesize}}
%%%%%%%%%%%%%code style%%%%%%%%%%
% redefine the chapter 
\usepackage{titlesec}
\titleclass{\chapter}{straight}
\titleformat{\chapter}[hang]
{\centering\zihao{-3}\bfseries}{第\chinese{chapter}章}{1em}{}
% redefine the section
\CTEXsetup[format={\zihao{4}\bf}]{section}
% 取消中文连字符与文字间的空格
\normalspacedchars{-}
% 定义"defination"环境
\newtheorem{Definition}{定义}
\begin{document}
% titlepage
\include{titlepage}
% contents
\tableofcontents
% abstract
\include{abstract}
% 绪论 
\include{introduction}
% 相关工作
\include{related_work}
% 背景 
\include{background}
% 构造
\include{construction}
% 实现
\include{implementation}

\bibliographystyle{plain}
\bibliography{graduation_design}
\end{document}
